<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="author" content="Dominique Brodbeck &amp; Rahel Lüthy · Fachhochschule Nordwestschweiz · 2016">
<title>Programming II</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Programming II</h1>
<div class="details">
<span id="author" class="author">Dominique Brodbeck &amp; Rahel Lüthy · Fachhochschule Nordwestschweiz · 2016</span><br>
<span id="revnumber">version 1.5.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#preamble">Preamble</a>
<ul class="sectlevel2">
<li><a href="#_motivation">Motivation</a></li>
<li><a href="#_authors">Authors</a></li>
</ul>
</li>
<li><a href="#intro">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_test_driven_development">1.1. Test-Driven Development</a></li>
<li><a href="#_exemplary_walk_through">1.2. Exemplary Walk-Through</a></li>
<li><a href="#_resources">1.3. Resources</a></li>
</ul>
</li>
<li><a href="#data-structures">2. Data Structures</a>
<ul class="sectlevel2">
<li><a href="#_the_array_data_structure">2.1. The Array Data Structure</a></li>
<li><a href="#_array_alternatives">2.2. Array Alternatives</a></li>
<li><a href="#_the_list_interface">2.3. The List Interface</a></li>
<li><a href="#_the_set_interface">2.4. The Set Interface</a></li>
<li><a href="#_the_map_interface">2.5. The Map Interface</a></li>
<li><a href="#_the_collections_helper">2.6. The Collections Helper</a></li>
<li><a href="#section-stream-api">2.7. The Java 8 Stream API</a></li>
<li><a href="#_resources_2">2.8. Resources</a></li>
</ul>
</li>
<li><a href="#input-output">3. Input / Output</a>
<ul class="sectlevel2">
<li><a href="#_reading_text_with_a_scanner">3.1. Reading Text with a Scanner</a></li>
<li><a href="#_creating_formatting_text">3.2. Creating &amp; Formatting Text</a></li>
<li><a href="#_writing_text_with_a_printwriter">3.3. Writing Text with a PrintWriter</a></li>
<li><a href="#_resources_3">3.4. Resources</a></li>
</ul>
</li>
<li><a href="#oop">4. Object-Oriented Programming</a>
<ul class="sectlevel2">
<li><a href="#_classes_objects">4.1. Classes &amp; Objects</a></li>
<li><a href="#_composition">4.2. Composition</a></li>
<li><a href="#_inheritance">4.3. Inheritance</a></li>
<li><a href="#_enum_types">4.4. Enum Types</a></li>
<li><a href="#_interfaces">4.5. Interfaces</a></li>
<li><a href="#_resources_4">4.6. Resources</a></li>
</ul>
</li>
<li><a href="#fp">5. Functional Programming</a>
<ul class="sectlevel2">
<li><a href="#_mathematical_functions">5.1. Mathematical Functions</a></li>
<li><a href="#_programs_as_data_pipelines">5.2. Programs as Data Pipelines</a></li>
<li><a href="#_preventing_programming_errors">5.3. Preventing Programming Errors</a></li>
<li><a href="#_map_filter_reduce">5.4. Map / Filter / Reduce</a></li>
<li><a href="#_summary">5.5. Summary</a></li>
<li><a href="#_resources_5">5.6. Resources</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="preamble">Preamble</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_motivation">Motivation</h3>
<div class="paragraph">
<p>This document gives a very dense summary of what we consider the most important topics of the "Programming II" course.
It is meant as a starting point, explaining just the bare minimum. <strong>You will have to do some further reading</strong> – tutorials, books, articles, API documentation.</p>
</div>
<div class="paragraph">
<p>Everyone is different!
We don&#8217;t want to force you to read a specific book.
That&#8217;s why we leave it up to you to find documentation that suits your preferred style.
Some people love reading a language specification, others learn best from examples.
Some students read books cover to cover, while others hop from one <a href="http://stackoverflow.com/">Stack Overflow</a> answer to the next.</p>
</div>
<div class="paragraph">
<p>Each chapter ends with a "Resources" section which gives helpful links.
We don&#8217;t specifically recommend an official course book, but the following three might be of interest:</p>
</div>
<div class="paragraph">
<p><a href="http://ssw.jku.at/JavaBuch/">Sprechen Sie Java?</a> by Hanspeter Mössenböck (5. Auflage) – The official "Programming I" course book has a certain overlap with "Programming II".
We will link to the relevant sections wherever applicable.</p>
</div>
<div class="paragraph">
<p><a href="https://yfain.github.io/Java4Kids/">Java Programming for Kids</a> by Yakov Fain (free online version) – Once you get over the humiliation of reading a book for children, you will appreciate its simple and clear style.</p>
</div>
<div class="paragraph">
<p><a href="http://explore.safaribooksonline.com/book/programming/java/9780137150021">Effective Java</a> by Josh Bloch – A very advanced book which does not focus on Java basics, but on writing clear, correct, robust, and reusable code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_authors">Authors</h3>
<div class="sect3">
<h4 id="_rahel_lüthy">Rahel Lüthy</h4>
<div class="paragraph">
<p>Rahel Lüthy is a software developer and research associate at the Institute for Medical and Analytical Technologies (FHNW).
She has an MSc in evolutionary &amp; population biology (University of Basel), and 15+ years of industry experience as a Java developer.
Apart from Java, she is passionate about Scala, functional programming, open-source, Git, and Gradle.
A dog, two kids, three karate belts, four bicycles, and five guitars keep her balanced.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dominique_brodbeck">Dominique Brodbeck</h4>
<div class="paragraph">
<p>Dominique Brodbeck is a professor for biomedical informatics at the Institute for Medical and Analytical Technologies (FHNW), as well as founding partner of the company Macrofocus GmbH.
He has a PhD in Physics (University of Basel) and holds an Executive MBA in Management of Technology (EPFL/HEC Lausanne).
His activities focus on how to extract meaningful information from large amounts of complex data, and on how to make it accessible to humans in a usable way.
His motto is: "I want to make people happy by making computers sing and dance".
He owns seven bicycles, following rule #12: The correct number of bikes to own is n+1, where n is the number of bikes currently owned.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="intro">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter you will learn how to set up your development environment (IDE) in order to work on the course exercises.</p>
</div>
<div class="sect2">
<h3 id="_test_driven_development">1.1. Test-Driven Development</h3>
<div class="paragraph">
<p>Throughout this course, you will be asked to solve exercises for each chapter.
The organization of exercises is inspired by an idea called <em>Test-Driven Development</em>: You receive automated JUnit tests that define the desired outcome of your exercises, and are asked to implement a solution that passes these tests.</p>
</div>
<div class="paragraph">
<p>Initially, all tests are failing ("red").
You know that you are done with your exercises as soon as all tests are succeeding ("green").</p>
</div>
<div class="paragraph">
<p>For each course chapter, you receive a ZIP containing a Java project with the following main elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Gradle configuration which allows to conveniently import the project into any IDE (e.g. IntelliJ IDEA)</p>
</li>
<li>
<p>A <code>src/main/java</code> folder which contains empty stubs for your solutions</p>
</li>
<li>
<p>A <code>src/main/test</code> folder which contains JUnit tests</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_exemplary_walk_through">1.2. Exemplary Walk-Through</h3>
<div class="paragraph">
<p>This introductory chapter will walk you through the steps needed to set up an exemplary project.
At the end, you will be all set for working on the "real" exercises later.</p>
</div>
<div class="sect3">
<h4 id="_download_ide_import">1.2.1. Download &amp; IDE Import</h4>
<div class="paragraph">
<p>Download the <a href="https://fhnw-biomedinf.github.io/prog-II/exercises/prog-II-exercise-01-intro.zip">prog-II-exercise-01-intro.zip</a> and extract it to any folder.
The directory tree contains a variety of files, but first, we are only interested in the <code>build.gradle</code> file.
This is a configuration file for Gradle, a build tool that is supported by all major IDEs (IntelliJ IDEA, Eclipse, NetBeans).
A build file describes the structure of the project.
It declares which programming language is being used (<code>java</code>) and specifies where the actual code is located (e.g. the <code>src/main/java</code> folder).
You do <strong>not</strong> need to know Gradle in order to successfully complete this course.
Gradle is only used to allow for a smooth import of exercise projects into your IDE.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This guide assumes that you have a working installation of JDK 8 and IntelliJ IDEA 15.
Most setup steps are similar with Eclipse or NetBeans – feel free to use your IDE of choice.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To import the project into IntelliJ IDEA, invoke the <code>File &gt; New &gt; Project From Existing Sources</code> action and select the <code>build.gradle</code> file.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When starting with a very fresh IntelliJ IDEA download, you might run into <code>JAVA_HOME</code> issues.
<a href="http://bit.ly/1kHDolT">This Stack Overflow</a> article explains how to resolve them.
From the initial wizard, proceed with <code>Open&#8230;&#8203;</code> to select the <code>build.gradle</code> file and import the project.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Trust the default settings and press OK to trigger the import.
Once imported, make sure that IntelliJ IDEA uses JDK 8 to compile your Java code.
Open <code>File &gt; Project Structure</code> to display the settings:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="01-intro/project-structure.png"><img src="01-intro/project-structure.png" alt="Project Structure" width="50%"></a>
</div>
</div>
<div class="paragraph">
<p>Finally, you can verify that your setup is correct by compiling the project (<code>Build &gt; Make Project</code>) and running the <code>SetupChecker</code> class:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="01-intro/run-setup-checker.png"><img src="01-intro/run-setup-checker.png" alt="Run `SetupChecker`" width="50%"></a>
</div>
</div>
<div class="paragraph">
<p>If the text "Hello World" appears in your <code>Run</code> console window, everything is set up correctly – congratulations!</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You don&#8217;t need to understand the <code>SetupChecker</code> code.
This class just verifies that your IDE is correctly configured to compile &amp; run Java 8 projects.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_junit">1.2.2. JUnit</h4>
<div class="paragraph">
<p>In this introductory example, you are asked to program a simple calculator.
The <code>CalculatorTest</code> class contains JUnit tests that serve as a specification, i.e. they declare how your <code>Calculator</code> implementation shall behave.</p>
</div>
<div class="paragraph">
<p>JUnit is a wide-spread framework to write unit tests in Java.
Generally speaking, unit tests assert that a unit of code behaves according to expectations (in Java, a unit corresponds to a class).
Unit testing has a lot of benefits and learning to use JUnit is well worth the effort.</p>
</div>
<div class="paragraph">
<p>However, in this course you will not actually need to write JUnit tests.
The tests are provided to guide you towards a correct implementation of each exercise, i.e. they drive your implementation, hence the term <em>Test-Driven Development</em>.</p>
</div>
<div class="paragraph">
<p>While the <code>CalculatorTest</code> class contains a full suite of tests, the <code>Calculator</code> class itself does not contain the correct implementation yet, it only contains method stubs.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is a convention to name the test class after the class which is being tested: The class <code>CalculatorTest</code> contains all tests for the class <code>Calculator</code>.
To keep the main code (<code>Calculator</code>) well separated from the test code (<code>CalculatorTest</code>), the top-level <code>src</code> folder is split into two distinct folder hierarchies (<code>test</code> vs <code>main</code>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>CalculatorTest</code> can be run via context menu:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="01-intro/run-calculator-test.png"><img src="01-intro/run-calculator-test.png" alt="Run `SetupChecker`" width="50%"></a>
</div>
</div>
<div class="paragraph">
<p>This will execute all tests in a JUnit-specific runner.
As expected, they all fail because the <code>Calculator</code> is not yet implemented:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="01-intro/junit-fail.png"><img src="01-intro/junit-fail.png" alt="Project Structure" width="50%"></a>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_code">1.2.3. Code!</h4>
<div class="paragraph">
<p>Now is the time to actually work on the exercises.
Roll back your sleeves and implement the <code>Calculator</code> class (do <strong>not</strong> change the <code>CalculatorTest</code> class).</p>
</div>
<div class="paragraph">
<p>Inside <code>Calculator</code>, delete all lines which look like this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">UnsupportedOperationException</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<p>and replace them with the correct calculation logic.
Verify the correctness of your implementation by re-running the JUnit tests.
You are done once all tests are green <span class="icon"><i class="fa fa-smile-o"></i></span></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resources">1.3. Resources</h3>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
JDK 8
</td>
<td class="hdlist2">
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" class="bare">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
IntelliJ IDEA
</td>
<td class="hdlist2">
<p><a href="https://www.jetbrains.com/idea" class="bare">https://www.jetbrains.com/idea</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
JUnit
</td>
<td class="hdlist2">
<p><a href="http://junit.org" class="bare">http://junit.org</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Gradle
</td>
<td class="hdlist2">
<p><a href="http://gradle.org" class="bare">http://gradle.org</a></p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-structures">2. Data Structures</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In "Programming I" you learned how to use primitive data types like <code>boolean</code>, <code>int</code>, or <code>float</code>.
You also learned how to store multiple values in the form of arrays, e.g. <code>boolean[]</code>, <code>int[]</code>, or <code>float[]</code>.
An array represents a very basic data structure, i.e. a particular way of organizing data in a program.</p>
</div>
<div class="paragraph">
<p>In this chapter you will learn about other data structures, namely <code>List</code>, <code>Set</code>, and <code>Map</code>, which offer certain advantages over using basic arrays.
Choosing the right data structure is crucial to making programs efficient in terms of execution speed and memory usage.</p>
</div>
<div class="sect2">
<h3 id="_the_array_data_structure">2.1. The Array Data Structure</h3>
<div class="paragraph">
<p>Data structures group multiple objects into a single unit.
In Java, the most basic container that can hold a fixed number of values is an array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// creates an array of strings and initializes it with three values</span>
<span class="predefined-type">String</span><span class="type">[]</span> fruit = {<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Banana</span><span class="delimiter">&quot;</span></span>};

<span class="predefined-type">String</span> someFruit = fruit[<span class="integer">1</span>];   <span class="comment">// index-based access</span>
<span class="predefined-type">System</span>.out.println(someFruit); <span class="comment">// prints &quot;Orange&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_array_alternatives">2.2. Array Alternatives</h3>
<div class="paragraph">
<p>It seems that arrays are simple to use and need very little memory – so why ever use a different data structure?</p>
</div>
<div class="paragraph">
<p>Imagine that your program needs to read values from a file.
When you write the program, you do not know how many values the file will contain, so how big should you initialize your array?</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><strong>Solution:</strong> The <code>List</code> data structure provides an array-alternative which grows dynamically whenever new elements are added.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Imagine that your program needs to read some text and output all unique characters used in that text.
When using an array to store the characters, how would you make sure that you do not store the same character twice?
Checking the complete array every time you encounter a character will make your program very slow.
And how big should you initialize your array?</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><strong>Solution:</strong> The <code>Set</code> data structure provides an array-alternative that grows dynamically when new elements are added and makes sure that it never contains duplicates.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Imagine that your program needs to read some text and create a histogram for all characters used in that text, i.e. it should gather statistics in the form of <code>'a: 33', 'b: 0', 'c: 12'</code> etc.
Of course you can use two arrays, one to keep track of the characters, and one to keep track of the counts.
But how big should you initialize them?
If someone was asking just for the count of the <code>n</code> characters, how would you look that up efficiently?</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><strong>Solution:</strong> The <code>Map</code> data structure provides an array-alternative that maps keys to values (in our example, you would use characters as keys and counts as values).
A set grows dynamically whenever a new mapping is added and provides very fast look-up operations.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The following sections will explain <code>List</code>, <code>Set</code>, and <code>Map</code> in more detail.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_list_interface">2.3. The List Interface</h3>
<div class="paragraph">
<p>The <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html"><code>List</code></a> interface provides a sequential data structure which grows dynamically whenever new elements are added.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Don&#8217;t worry if you are not familiar with the term "interface" – you will learn more about this concept in a future chapter.
For the time being, think of interfaces as a simple contract: They specify a group of methods that an implementation of that interface must provide.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html"><code>ArrayList</code></a> class represents a general-purpose implementation of the <code>List</code> interface.
Here&#8217;s how an <code>ArrayList</code> can be created, filled, and queried:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; fruit = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();

<span class="predefined-type">System</span>.out.println(fruit.size()); <span class="comment">// prints 0</span>

fruit.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>);
fruit.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>);
fruit.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Banana</span><span class="delimiter">&quot;</span></span>);

<span class="predefined-type">System</span>.out.println(fruit.size()); <span class="comment">// prints 3</span>
<span class="predefined-type">String</span> someFruit = fruit.get(<span class="integer">1</span>);  <span class="comment">// index-based access</span>
<span class="predefined-type">System</span>.out.println(someFruit);    <span class="comment">// prints &quot;Orange&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The angle brackets used in the <code>List&lt;String&gt;</code> declaration can be read as <em>of element type String</em>.
The concept behind this syntax is called "generics" or "type parameterization".
In our example, it guarantees that the <code>add</code> and <code>get</code> methods only allow elements of type <code>String</code>.
Because we declare our <code>fruit</code> variable to be of type <code>List&lt;String&gt;</code> the compiler can tell that our <code>ArrayList</code> must also be of element type String, therefore we don&#8217;t have to repeat the
element type but can use empty brackets <code>&lt;&gt;</code> ("diamond") instead.</p>
</div>
<div class="paragraph">
<p>As mentioned above, <code>List</code> is an interface (a contract), while <code>ArrayList</code> is a concrete implementation (a class
that fulfills the contract by supporting all required methods).
It is good practice to program to the interface rather than the implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; list = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();             <span class="comment">// good</span>
<span class="predefined-type">ArrayList</span>&lt;<span class="predefined-type">String</span>&gt; anotherList = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;(); <span class="comment">// bad</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This assures that wherever you use your <code>list</code> variable, you are only using methods that are actually declared by the <code>List</code> interface.
If you later on decide to e.g. use a <code>LinkedList</code> (an alternative implementation of the <code>List</code> interface) rather than an <code>ArrayList</code>, you only need to swap out the implementation in one spot.</p>
</div>
<div class="paragraph">
<p>The easiest way to iterate over all elements of a list is by using a so-called "for-each" loop:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; list = <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Banana</span><span class="delimiter">&quot;</span></span>);

<span class="keyword">for</span> (<span class="predefined-type">String</span> element : list) {
    <span class="predefined-type">System</span>.out.println(element);
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Using <code>Arrays.asList("Apple", "Orange", "Banana")</code> is a simple way to create a fixed-size list with some elements
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatively, all lists can also be converted to data streams, which can then be processed via <a href="#section-stream-api">The Java 8 Stream API</a>.</p>
</div>
<div class="paragraph">
<p>You are now ready to tackle the first part of the exercises.
Get yourself a coffee, import the <code>build.gradle</code> file contained inside <a href="https://fhnw-biomedinf.github.io/prog-II/exercises/prog-II-exercise-02-data-structures.zip">prog-II-exercise-02-data-structures.zip</a>, and get started with implementing the <code>List101</code> class.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_set_interface">2.4. The Set Interface</h3>
<div class="paragraph">
<p>The <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html"><code>Set</code></a> interface provides a data structure that grows dynamically when new elements are added and makes sure that it never contains duplicates.</p>
</div>
<div class="paragraph">
<p>The <a href="http://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html"><code>HashSet</code></a> class is the most commonly used <code>Set</code> implementation.
The following example illustrates how a <code>HashSet</code> can be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; fruit = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();

<span class="predefined-type">System</span>.out.println(fruit.size());            <span class="comment">// prints 0</span>

fruit.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>);
fruit.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>);
fruit.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Banana</span><span class="delimiter">&quot;</span></span>);

<span class="predefined-type">System</span>.out.println(fruit.size());            <span class="comment">// prints 3</span>

fruit.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>);

<span class="predefined-type">System</span>.out.println(fruit.size());            <span class="comment">// still prints 3</span>

<span class="predefined-type">System</span>.out.println(fruit.contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>)); <span class="comment">// prints true</span>
<span class="predefined-type">System</span>.out.println(fruit.contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">Lemon</span><span class="delimiter">&quot;</span></span>)); <span class="comment">// prints false</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As mentioned before, the angle brackets in the <code>Set&lt;String&gt;</code> declaration can be read as <em>of element type String</em>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>While we can also use a "for-each" loop to iterate over all elements, the <code>HashSet</code> class makes no guarantees as to the <strong>order</strong> of the iteration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; words = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;(<span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Banana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>));
<span class="keyword">for</span> (<span class="predefined-type">String</span> word : words) {
    <span class="predefined-type">System</span>.out.println(word);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will print elements in unpredictable order:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Apple
Orange
Banana</pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="http://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashSet.html"><code>LinkedHashSet</code></a> class represents a <code>Set</code> implementation which guarantees that elements are returned in the order in which they were inserted.
However, this convenience comes at a certain price, i.e. a <code>LinkedHashSet</code> uses more memory than a traditional <code>HashSet</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_map_interface">2.5. The Map Interface</h3>
<div class="paragraph">
<p>The <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html"><code>Map</code></a> interface provides a data structure which maps keys to values.
A map will never contain duplicate keys (i.e. the keys behave like a set), and each key can map to at most one value.</p>
</div>
<div class="paragraph">
<p>The <a href="https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html"><code>HashMap</code></a> class is the most commonly used <code>Map</code> implementation.
The following example illustrates how a <code>HashMap</code> can be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; birthYears = <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;&gt;();

<span class="predefined-type">System</span>.out.println(birthYears.size());                 <span class="comment">// prints 0</span>

birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Barack</span><span class="delimiter">&quot;</span></span>, <span class="integer">1961</span>);
birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hillary</span><span class="delimiter">&quot;</span></span>, <span class="integer">2016</span>);
birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Ada</span><span class="delimiter">&quot;</span></span>, <span class="integer">1815</span>);

<span class="predefined-type">System</span>.out.println(birthYears.size());                 <span class="comment">// prints 3</span>

birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hillary</span><span class="delimiter">&quot;</span></span>, <span class="integer">1947</span>);

<span class="predefined-type">System</span>.out.println(birthYears.size());                 <span class="comment">// still prints 3</span>

<span class="predefined-type">System</span>.out.println(birthYears.containsKey(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hillary</span><span class="delimiter">&quot;</span></span>)); <span class="comment">// prints true</span>
<span class="predefined-type">System</span>.out.println(birthYears.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hillary</span><span class="delimiter">&quot;</span></span>));         <span class="comment">// prints 1947</span>
<span class="predefined-type">System</span>.out.println(birthYears.containsKey(<span class="string"><span class="delimiter">&quot;</span><span class="content">Donald</span><span class="delimiter">&quot;</span></span>));  <span class="comment">// prints false</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As mentioned before, the angle brackets in the <code>Map&lt;String, Integer&gt;</code> declaration specify the type of entries added to the map.
For maps, we need two type declarations, one for the keys and one for the values.
In this example, the key are of type <code>String</code> while the values are of type <code>Integer</code>, but you might as well construct a map where keys and values are of the same type (<code>Map&lt;String, String&gt;</code>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each map offers three different views on its contents: it can be queried for a set of keys, a collection of all its values, or a set of its entries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; birthYears = <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;&gt;();
birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Barack</span><span class="delimiter">&quot;</span></span>, <span class="integer">1961</span>);
birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hillary</span><span class="delimiter">&quot;</span></span>, <span class="integer">1947</span>);
birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Ada</span><span class="delimiter">&quot;</span></span>, <span class="integer">1815</span>);

<span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; keys = birthYears.keySet();
<span class="predefined-type">System</span>.out.println(keys);    <span class="comment">// prints [Hillary, Barack, Ada]</span>

<span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Integer</span>&gt; values = birthYears.values();
<span class="predefined-type">System</span>.out.println(values);  <span class="comment">// prints [1947, 1961, 1815]</span>

<span class="predefined-type">Set</span>&lt;<span class="predefined-type">Map</span>.Entry&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt;&gt; entries = birthYears.entrySet();
<span class="predefined-type">System</span>.out.println(entries); <span class="comment">// prints [Hillary=1947, Barack=1961, Ada=1815]</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Iteration order is not guaranteed.
A <a href="https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html"><code>LinkedHashMap</code></a> can be used to return contents in key-insertion order.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>entrySet()</code> view is particularly helpful when iterating over the contents of a map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; birthYears = <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;&gt;();
birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Barack</span><span class="delimiter">&quot;</span></span>, <span class="integer">1961</span>);
birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hillary</span><span class="delimiter">&quot;</span></span>, <span class="integer">1947</span>);
birthYears.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">Ada</span><span class="delimiter">&quot;</span></span>, <span class="integer">1815</span>);

<span class="keyword">for</span> (<span class="predefined-type">Map</span>.Entry&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; entry : birthYears.entrySet()) {
    <span class="predefined-type">System</span>.out.println(entry.getKey() + <span class="string"><span class="delimiter">&quot;</span><span class="content"> -&gt; </span><span class="delimiter">&quot;</span></span> + entry.getValue());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will print the following lines (in unpredictable order):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hillary -&gt; 1947
Barack -&gt; 1961
Ada -&gt; 1815</pre>
</div>
</div>
<div class="paragraph">
<p>If a <code>Map</code> is queried for a key it does not contain, a <code>null</code> value will be returned.
Working with <code>null</code> values is very error prone and should be avoided whenever possible.
Java 8 offers a safe way of providing a default value for absent mappings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Map</span>&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">String</span>&gt; numbers = <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;&gt;();
numbers.put(<span class="integer">0</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">zero</span><span class="delimiter">&quot;</span></span>);
numbers.put(<span class="integer">2</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">two</span><span class="delimiter">&quot;</span></span>);
numbers.put(<span class="integer">3</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">three</span><span class="delimiter">&quot;</span></span>);

<span class="predefined-type">String</span> defaultValue = <span class="string"><span class="delimiter">&quot;</span><span class="content">unknown</span><span class="delimiter">&quot;</span></span>;

<span class="predefined-type">System</span>.out.println(numbers.getOrDefault(<span class="integer">0</span>, defaultValue)); <span class="comment">// prints &quot;zero&quot;</span>
<span class="predefined-type">System</span>.out.println(numbers.getOrDefault(<span class="integer">1</span>, defaultValue)); <span class="comment">// prints &quot;unknown&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_collections_helper">2.6. The Collections Helper</h3>
<div class="paragraph">
<p>The <code>List</code>, <code>Set</code>, and <code>Map</code> interfaces all belong to the
<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/collections">Java Collections Framework</a>, which provides a variety of data structures ready to be used.</p>
</div>
<div class="paragraph">
<p>In addition, the framework also offers the
<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html"><code>Collections</code></a> helper class.
Among its many utility methods, <code>min</code> and <code>max</code> are particularly helpful when working with numbers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; values = <span class="predefined-type">Arrays</span>.asList(<span class="integer">1</span>, <span class="integer">99</span>, -<span class="integer">2</span>, <span class="integer">42</span>);
<span class="predefined-type">System</span>.out.println(<span class="predefined-type">Collections</span>.min(values)); <span class="comment">// prints -2</span>
<span class="predefined-type">System</span>.out.println(<span class="predefined-type">Collections</span>.max(values)); <span class="comment">// prints 99</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-stream-api">2.7. The Java 8 Stream API</h3>
<div class="paragraph">
<p>The previous sections explained how <code>List</code>, <code>Set</code>, and <code>Map</code> data structures all belong to a common hierarchy of collections.
Some collections allow duplicate elements and others do not.
Some are ordered and others unordered.
But generally speaking, a collection stores a number of elements in memory.</p>
</div>
<div class="paragraph">
<p>Java 8 introduced a further abstraction, namely the
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html"><code>Stream</code></a> interface – a data source which sequentially serves elements without storing them in memory.
The concept of streams is very powerful, but also quite complex.
The vast number of available online tutorials is a clear indication of this fact.
We will not cover streams in detail in this course, but this introductory section gives a little taste of their power.</p>
</div>
<div class="paragraph">
<p>In contrast to collections, streams do not store elements in memory but simply serve as a source of elements.
Some streams provide elements by reading them from a collection, but others read them from the internet, or calculate them on the fly.
Much like a water pipeline, where water only flows if the faucet is turned open, streams only serve elements as long as these elements are actually consumed.</p>
</div>
<div class="paragraph">
<p>At least three aspects of streams deserve special attention:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Streams offer a variety of methods to filter, transform, and collect elements.
These methods can be chained in a very functional way, which leads to concise, but readable code.</p>
</li>
<li>
<p>Streams can be created <strong>from</strong> collections and converted back <strong>to</strong> collections.</p>
</li>
<li>
<p>Streams serve as a potentially infinite source of elements.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s dive in with an example.
Given a list of words, produce a list of <code>Integer</code> values which correspond to each word&#8217;s length:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Stream&lt;<span class="predefined-type">String</span>&gt; words = Stream.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">new</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">of</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">streams</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; lengths = words.map(word -&gt; word.length()).collect(Collectors.toList());
<span class="predefined-type">System</span>.out.println(lengths); <span class="comment">// prints [5, 3, 5, 2, 7]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to understand a sequence of instructions, it is often helpful to look at the types of intermediate results:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Stream&lt;<span class="predefined-type">String</span>&gt; words = Stream.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">new</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">of</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">streams</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; lengths = words.        <span class="comment">// Starting with a Stream&lt;String&gt; ...</span>
        map(word -&gt; word.length()).   <span class="comment">// ... transform each String to an Integer</span>
        collect(Collectors.toList()); <span class="comment">// ... convert the final Stream&lt;Integer&gt; to a List&lt;Integer&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Just for illustration purposes – calculating the maximum length of a filtered list of words:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Stream&lt;<span class="predefined-type">String</span>&gt; words = Stream.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Apricot</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Banana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>);
<span class="type">int</span> maxLength = words.
        filter(word -&gt; word.startsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>)). <span class="comment">// [Apple, Apricot]</span>
        mapToInt(word -&gt; word.length()).      <span class="comment">// [5, 7]</span>
        max().getAsInt();                     <span class="comment">// 7</span>
<span class="predefined-type">System</span>.out.println(maxLength);                <span class="comment">// prints 7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>All collections offer a <code>stream()</code> method which returns a sequential stream over their elements.
The following example shows how to create a stream <strong>from</strong> a <code>List</code>, process its elements, and convert it <strong>to</strong> a <code>Set</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; words = <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Apricot</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Banana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; filteredWords = words.stream().
        filter(word -&gt; word.contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">r</span><span class="delimiter">&quot;</span></span>)).
        collect(Collectors.toSet());
<span class="predefined-type">System</span>.out.println(filteredWords); <span class="comment">// prints [Apricot, Orange]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Collectors.toSet()</code> method internally creates a <code>HashSet</code> to store the final elements.
That&#8217;s why the final <code>Set</code> does not contain elements in order.
This can however be achieved by explicitly collecting elements inside a <code>LinkedHashSet</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; words = <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">&quot;</span><span class="content">Apple</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Apricot</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Banana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Orange</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; filteredWords = words.stream().
        filter(word -&gt; word.contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">r</span><span class="delimiter">&quot;</span></span>)).
        collect(Collectors.toCollection(<span class="predefined-type">LinkedHashSet</span>::<span class="keyword">new</span>));
<span class="predefined-type">System</span>.out.println(filteredWords); <span class="comment">// prints [Orange, Apricot]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To round off this introductory stream section, the following example uses an infinite stream to create random dice rolls:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Random</span> random = <span class="keyword">new</span> <span class="predefined-type">Random</span>();
Stream&lt;<span class="predefined-type">Integer</span>&gt; diceRollingStream = Stream.generate(() -&gt; random.nextInt(<span class="integer">6</span>) + <span class="integer">1</span>);
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; threeDiceRolls = diceRollingStream.limit(<span class="integer">3</span>).collect(Collectors.toList());</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resources_2">2.8. Resources</h3>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Hanspeter Mössenböck: Sprechen Sie Java?
</td>
<td class="hdlist2">
<p>Kapitel 15: "Generizität", Kapitel 23.1: "Collection-Typen"</p>
</td>
</tr>
<tr>
<td class="hdlist1">
The Java Tutorials: Collections
</td>
<td class="hdlist2">
<p><a href="https://docs.oracle.com/javase/tutorial/collections/" class="bare">https://docs.oracle.com/javase/tutorial/collections/</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Angelika Langer: Java Generics FAQs
</td>
<td class="hdlist2">
<p><a href="http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html" class="bare">http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Benjamin Winterberg: Java 8 Stream Tutorial
</td>
<td class="hdlist2">
<p><a href="http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/" class="bare">http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Oracle Technology Network: Processing Data with Java SE 8 Streams
</td>
<td class="hdlist2">
<p><a href="http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html" class="bare">http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html</a></p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="input-output">3. Input / Output</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter you will learn how to read and write textual data. You will use the <code>Scanner</code>
class to read textual input, and the <code>PrintWriter</code> class to output data back to file.</p>
</div>
<div class="sect2">
<h3 id="_reading_text_with_a_scanner">3.1. Reading Text with a Scanner</h3>
<div class="paragraph">
<p>The <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html"><code>Scanner</code></a> class allows to read textual input:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> input = <span class="string"><span class="delimiter">&quot;</span><span class="content">Mary had a little lamb</span><span class="delimiter">&quot;</span></span>;

<span class="predefined-type">Scanner</span> scanner = <span class="keyword">new</span> <span class="predefined-type">Scanner</span>(<span class="keyword">new</span> <span class="predefined-type">StringReader</span>(input));
<span class="keyword">while</span> (scanner.hasNext()) {
    <span class="predefined-type">System</span>.out.println(scanner.next());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will print:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Mary
had
a
little
lamb</pre>
</div>
</div>
<div class="paragraph">
<p>Each <code>Scanner</code> instance can be configured in how it breaks input into tokens. Various <code>hasNextXXX()</code> and <code>nextXXX()</code>
methods allow to parse different value types. The following example demonstrates how to parse <code>double</code> values separated
by a dash (<code>-</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> input = <span class="string"><span class="delimiter">&quot;</span><span class="content">0.1-42.0-99.9</span><span class="delimiter">&quot;</span></span>;

<span class="predefined-type">Scanner</span> scanner = <span class="keyword">new</span> <span class="predefined-type">Scanner</span>(<span class="keyword">new</span> <span class="predefined-type">StringReader</span>(input));
scanner.useDelimiter(<span class="string"><span class="delimiter">&quot;</span><span class="content">-</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Double</span>&gt; values = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
<span class="keyword">while</span> (scanner.hasNextDouble()) {
    values.add(scanner.nextDouble());
}
<span class="predefined-type">System</span>.out.println(values);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multi-line input can be parsed by making use of the <code>hasNextLine()</code> and <code>nextLine()</code> methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> input =
        <span class="string"><span class="delimiter">&quot;</span><span class="content">line 1</span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
        <span class="string"><span class="delimiter">&quot;</span><span class="content">line 2</span><span class="char">\n</span><span class="delimiter">&quot;</span></span> +
        <span class="string"><span class="delimiter">&quot;</span><span class="content">line 3</span><span class="delimiter">&quot;</span></span>;

<span class="predefined-type">Scanner</span> scanner = <span class="keyword">new</span> <span class="predefined-type">Scanner</span>(<span class="keyword">new</span> <span class="predefined-type">StringReader</span>(input));
<span class="keyword">while</span> (scanner.hasNextLine()) {
    <span class="predefined-type">System</span>.out.println(scanner.nextLine());
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">––––––</span><span class="delimiter">&quot;</span></span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which will print:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>line 1
––––––
line 2
––––––
line 3
––––––</pre>
</div>
</div>
<div class="paragraph">
<p>In all examples so far we were reading input from a <code>String</code> variable. In reality, data is often read from a file on disk.
The <a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html"><code>File</code></a> class can be used to represent such a file.
Note that the actual scanning logic stays exactly the same as before. However, things can go wrong when working with files,
that&#8217;s why a <code>try/catch</code> exception handling construct is needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">File</span> inputFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">input.txt</span><span class="delimiter">&quot;</span></span>);
<span class="keyword">try</span> (<span class="predefined-type">Scanner</span> scanner = <span class="keyword">new</span> <span class="predefined-type">Scanner</span>(inputFile)) {
    <span class="keyword">while</span> (scanner.hasNext()) {
        <span class="predefined-type">System</span>.out.println(scanner.next());
    }
} <span class="keyword">catch</span> (<span class="exception">FileNotFoundException</span> e) {
    <span class="predefined-type">System</span>.err.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Reading file failed: </span><span class="delimiter">&quot;</span></span> + e.getMessage());
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Have a look at the official <a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html">Oracle Tutorial</a>
if you would like to learn more about the concept of exceptions.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_creating_formatting_text">3.2. Creating &amp; Formatting Text</h3>
<div class="paragraph">
<p>When dealing with text, <code>String</code> values are often created via successive concatenation, i.e. by
repeatedly appending fragments. This can most elegantly be achieved via the
<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html"><code>StringBuilder</code></a> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">StringBuilder</span> result = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>();
<span class="keyword">for</span> (<span class="predefined-type">String</span> name : <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">&quot;</span><span class="content">Lisa</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Bob</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Hillary</span><span class="delimiter">&quot;</span></span>)) {
    result.append(name).append(<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
}
<span class="predefined-type">System</span>.out.println(result);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which will print:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Lisa
Bob
Hillary</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>String.format</code> helper method allows to write out values in a specific format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; numbers = <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">&quot;</span><span class="content">one</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">two</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">three</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">StringBuilder</span> result = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>();
<span class="keyword">for</span> (<span class="type">int</span> i = <span class="integer">0</span>; i &lt; numbers.size(); i++) {
    <span class="predefined-type">String</span> formatted = <span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">&quot;</span><span class="content">%d %S</span><span class="delimiter">&quot;</span></span>, i, numbers.get(i));
    result.append(formatted).append(<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
}
<span class="predefined-type">System</span>.out.println(result);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which will print:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0 ONE
1 TWO
2 THREE</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_writing_text_with_a_printwriter">3.3. Writing Text with a PrintWriter</h3>
<div class="paragraph">
<p>The <a href="http://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html"><code>PrintWriter</code></a> class can be used to write text
to a file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">File</span> outputFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">out.txt</span><span class="delimiter">&quot;</span></span>);
<span class="keyword">try</span> (<span class="predefined-type">PrintWriter</span> writer = <span class="keyword">new</span> <span class="predefined-type">PrintWriter</span>(outputFile)) {
    writer.print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello World</span><span class="delimiter">&quot;</span></span>);
} <span class="keyword">catch</span> (<span class="exception">FileNotFoundException</span> e) {
    <span class="predefined-type">System</span>.err.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Writing file failed: </span><span class="delimiter">&quot;</span></span> + e.getMessage());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As seen before, interacting with the <code>File</code> class can lead to exceptions. The <code>try/catch</code> clause is taking care of
properly handling the error scenario. In addition, constructing the <code>PrintWriter</code> in the <code>try()</code> statement makes sure
that it is properly flushed and closed once we are done working with it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resources_3">3.4. Resources</h3>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Scanner
</td>
<td class="hdlist2">
<p><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html" class="bare">http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
File
</td>
<td class="hdlist2">
<p><a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html" class="bare">http://docs.oracle.com/javase/8/docs/api/java/io/File.html</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Exceptions
</td>
<td class="hdlist2">
<p><a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html" class="bare">https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
StringBuilder
</td>
<td class="hdlist2">
<p><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html" class="bare">http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Format String Syntax
</td>
<td class="hdlist2">
<p><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax" class="bare">http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
PrintWriter
</td>
<td class="hdlist2">
<p><a href="http://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html" class="bare">http://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
try-with-resource
</td>
<td class="hdlist2">
<p><a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html" class="bare">https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a></p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="oop">4. Object-Oriented Programming</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The chapter on <a href="#data-structures">Data Structures</a> explained how data can be stored in collections.
A <code>List&lt;String&gt;</code> e.g. allows to keep track of text values.
But what if we want to store more heterogeneous values?
We cannot use a <code>List</code> to keep track of a person&#8217;s name, a phone number, and a city or residence.
Even if we could stuff a mixture of text values and numbers into a list, we would actually prefer a <code>List&lt;Person&gt;</code>, right?
But unfortunately, the Java standard library does not offer a <code>Person</code> class.</p>
</div>
<div class="paragraph">
<p>The following sections explain how we can write classes like <code>Person</code> ourselves.
Classes represent the core building blocks in Java.
As an object-oriented language, Java uses the concepts of <em>composition</em> and <em>inheritance</em> to create programs out of these building blocks.</p>
</div>
<div class="sect2">
<h3 id="_classes_objects">4.1. Classes &amp; Objects</h3>
<div class="paragraph">
<p>In the real world, we tend to group <em>things</em> into different categories, e.g. "Emma" is a person, while "Milo" is a dog, and "Basel" is a city.
In Java, person, dog, and city are known as <em>classes</em>, while "Emma", "Milo", and "Basel" are <em>objects</em>.</p>
</div>
<div class="paragraph">
<p>Taking the city as an example, suppose you would like to build a catalogue of cities.
Each city can be described by a name and a ZIP code.
The following code shows how to model this data structure with a custom <code>City</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">City</span> { <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> name; <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="directive">private</span> <span class="directive">final</span> <span class="type">int</span> zipCode; <i class="conum" data-value="2"></i><b>(2)</b>

    <span class="directive">public</span> City(<span class="predefined-type">String</span> name, <span class="type">int</span> zipCode) { <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="local-variable">this</span>.name = name;
        <span class="local-variable">this</span>.zipCode = zipCode;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getName() { <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="keyword">return</span> name;
    }

    <span class="directive">public</span> <span class="type">int</span> getZipCode() { <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="keyword">return</span> zipCode;
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The class declaration</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Two <em>fields</em> (sometimes also known as <em>instance variables</em> or <em>properties</em>)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A <em>constructor</em> (accepting two <em>parameters</em> or <em>arguments</em>, assigning them to the <em>fields</em>)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Two <em>methods</em> (specifically, two <em>accessor</em> methods)</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>public</code>/<code>private</code> and <code>final</code> keywords ensure that the class is well encapsulated and immutable.
These aspects are not important in small programs.
In larger applications, they prevent certain categories of errors and make the code base more maintainable.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s see how the <code>City</code> class can be used – or in Java lingo: how it can be instantiated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The terms <em>"creating an object of"</em>, <em>"instantiating"</em>, or <em>"creating an instance of"</em> are all synonymous.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">City basel = <span class="keyword">new</span> City(<span class="string"><span class="delimiter">&quot;</span><span class="content">Basel</span><span class="delimiter">&quot;</span></span>, <span class="integer">4000</span>);
City zurich = <span class="keyword">new</span> City(<span class="string"><span class="delimiter">&quot;</span><span class="content">Zurich</span><span class="delimiter">&quot;</span></span>, <span class="integer">8000</span>);
City muttenz = <span class="keyword">new</span> City(<span class="string"><span class="delimiter">&quot;</span><span class="content">Muttenz</span><span class="delimiter">&quot;</span></span>, <span class="integer">4132</span>);

<span class="predefined-type">System</span>.out.println(basel.getName());      <span class="comment">// prints &quot;Basel&quot;</span>
<span class="predefined-type">System</span>.out.println(muttenz.getZipCode()); <span class="comment">// prints 4132</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>new</code> keyword creates an instance of a class by calling the <em>constructor</em> which matches the number and types of the given <em>arguments</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_composition">4.2. Composition</h3>
<div class="paragraph">
<p>Our <code>City</code> class is composed of two fields, a <code>name</code> and a <code>zipCode</code>.
The <code>name</code> field is of type <code>String</code>, which is itself a class.
This is the simplest form of class re-use: We built a new class <code>City</code> by composing it of an existing building block, the <code>String</code> class.</p>
</div>
<div class="paragraph">
<p>The same approach can be used with custom classes.
The following class defines a <code>Person</code> by re-using our own <code>City</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> {

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> firstName;
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> lastName;
    <span class="directive">private</span> <span class="directive">final</span> City city;

    <span class="directive">public</span> Person(<span class="predefined-type">String</span> firstName, <span class="predefined-type">String</span> lastName, City city) {
        <span class="local-variable">this</span>.firstName = firstName;
        <span class="local-variable">this</span>.lastName = lastName;
        <span class="local-variable">this</span>.city = city;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getFirstName() {
        <span class="keyword">return</span> firstName;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getLastName() {
        <span class="keyword">return</span> lastName;
    }

    <span class="directive">public</span> City getCity() {
        <span class="keyword">return</span> city;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When creating a <code>Person</code> instance, an existing <code>City</code> instance is passed to the <code>Person</code> constructor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">City basel = <span class="keyword">new</span> City(<span class="string"><span class="delimiter">&quot;</span><span class="content">Basel</span><span class="delimiter">&quot;</span></span>, <span class="integer">4000</span>);
Person gigi = <span class="keyword">new</span> Person(<span class="string"><span class="delimiter">&quot;</span><span class="content">Gisela</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Oeri</span><span class="delimiter">&quot;</span></span>, basel);

<span class="predefined-type">System</span>.out.println(gigi.getFirstName());         <span class="comment">// prints &quot;Gisela&quot;</span>
<span class="predefined-type">System</span>.out.println(gigi.getCity().getZipCode()); <span class="comment">// prints 4000</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>getCity().getZipCode()</code> chain reflects the hierarchical nature of class composition.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now our building blocks are complete enough to address the initial problem, the wish for a list of persons:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">City basel = <span class="keyword">new</span> City(<span class="string"><span class="delimiter">&quot;</span><span class="content">Basel</span><span class="delimiter">&quot;</span></span>, <span class="integer">4000</span>);
Person gigi = <span class="keyword">new</span> Person(<span class="string"><span class="delimiter">&quot;</span><span class="content">Gisela</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Oeri</span><span class="delimiter">&quot;</span></span>, basel);
Person eva = <span class="keyword">new</span> Person(<span class="string"><span class="delimiter">&quot;</span><span class="content">Eva</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Herzog</span><span class="delimiter">&quot;</span></span>, basel);

<span class="predefined-type">List</span>&lt;Person&gt; persons = <span class="predefined-type">Arrays</span>.asList(gigi, eva);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_inheritance">4.3. Inheritance</h3>
<div class="paragraph">
<p>As seen in the previous section, the technique of <strong>composition</strong> is used to model <em>"has a"</em> relationships: A person <em>has a</em> city of residence, a city <em>has a</em> name.
This section will explain <strong>inheritance</strong>, a technique to express an <em>"is a"</em> relationship.</p>
</div>
<div class="paragraph">
<p>Starting from our <code>Person</code> class, we can declare a new class <code>Student</code> which <em>is a</em> special kind of person:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Student</span> <span class="directive">extends</span> Person { <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="directive">private</span> <span class="directive">final</span> <span class="type">int</span> semester; <i class="conum" data-value="2"></i><b>(2)</b>

    <span class="directive">public</span> Student(<span class="predefined-type">String</span> firstName, <span class="predefined-type">String</span> lastName, City city, <span class="type">int</span> semester) { <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="local-variable">super</span>(firstName, lastName, city);  <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="local-variable">this</span>.semester = semester; <i class="conum" data-value="5"></i><b>(5)</b>
    }

    <span class="directive">public</span> <span class="type">int</span> getSemester() { <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="keyword">return</span> semester;
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>extends</code> keyword specifies that <code>Student</code> inherits all aspects of a <code>Person</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A <em>field</em> (in addition to all fields inherited from <code>Person</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A <em>constructor</em> to create <code>Student</code> instances</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>A call to the <em>super constructor</em> (which initializes the <code>Person</code> base class)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Initialization of the <code>semester</code> field from the constructor argument</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>An <em>accessor method</em> to the <code>semester</code> field</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this inheritance hierarchy, <code>Person</code> is referred to as the <em>base-class</em>.
<code>Person</code> is the <em>super-class</em> of <code>Student</code>, while <code>Student</code> is a <em>sub-class</em> of <code>Person</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using the <code>Student</code> class is straight forward.
Instances of <code>Student</code> offer all functionality of the base-class <code>Person</code>, <strong>plus</strong> additional functionality like the <code>getSemester()</code> accessor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">City city = <span class="keyword">new</span> City(<span class="string"><span class="delimiter">&quot;</span><span class="content">Wherever</span><span class="delimiter">&quot;</span></span>, <span class="integer">9999</span>);
Student harry = <span class="keyword">new</span> Student(<span class="string"><span class="delimiter">&quot;</span><span class="content">Harry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Potter</span><span class="delimiter">&quot;</span></span>, city, <span class="integer">3</span>);

<span class="predefined-type">System</span>.out.println(harry.getFirstName()); <span class="comment">// prints &quot;Harry&quot;</span>
<span class="predefined-type">System</span>.out.println(harry.getSemester());  <span class="comment">// prints 3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>One thing to note is that the class inheritance hierarchy defines how objects can be assigned to differently typed variables.
The <em>"is a"</em> metaphor is a good indication of whether an assignment is allowed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">City city = <span class="keyword">new</span> City(<span class="string"><span class="delimiter">&quot;</span><span class="content">Wherever</span><span class="delimiter">&quot;</span></span>, <span class="integer">9999</span>);
Student harry = <span class="keyword">new</span> Student(<span class="string"><span class="delimiter">&quot;</span><span class="content">Harry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Potter</span><span class="delimiter">&quot;</span></span>, city, <span class="integer">3</span>);
Person bill = <span class="keyword">new</span> Person(<span class="string"><span class="delimiter">&quot;</span><span class="content">Bill</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Gates</span><span class="delimiter">&quot;</span></span>, city);

Person person;
Student student;

person = bill;       <span class="comment">// bill is a person</span>
person = harry;      <span class="comment">// harry is a person</span>

student = harry;     <span class="comment">// harry is a student</span>
<span class="comment">// student = bill;   // DOES NOT COMPILE – bill is NOT a student</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>While it is very convenient to inherit the properties and behavior of a base-class, it is sometimes desirable to deviate in certain aspects.
The concept of <strong>overriding</strong> allows a sub-class to change the behavior of certain methods.
Let&#8217;s change the <code>Student</code> class to return last names with a " (s)" suffix:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Student</span> <span class="directive">extends</span> Person {

    <span class="directive">private</span> <span class="directive">final</span> <span class="type">int</span> semester;

    <span class="directive">public</span> Student(<span class="predefined-type">String</span> firstName, <span class="predefined-type">String</span> lastName, City city, <span class="type">int</span> semester) {
        <span class="local-variable">super</span>(firstName, lastName, city);
        <span class="local-variable">this</span>.semester = semester;
    }

    <span class="directive">public</span> <span class="type">int</span> getSemester() {
        <span class="keyword">return</span> semester;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> getLastName() {
        <span class="keyword">return</span> <span class="local-variable">super</span>.getLastName() + <span class="string"><span class="delimiter">&quot;</span><span class="content"> (s)</span><span class="delimiter">&quot;</span></span>;
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>@Override</code> marker is called an <em>annotation</em>.
It marks the intention of overriding a method in the base-class.
If the <code>Person</code> class was changed to no longer offer a <code>getLastName()</code> method, this annotation would allow the compiler to detect this inconsistency.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_the_object_root_class">4.3.1. The Object root class</h4>
<div class="paragraph">
<p>Let&#8217;s look at a simple class which does not explicitly extend another class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">Dog</span> {

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> name;

    <span class="directive">public</span> Dog(<span class="predefined-type">String</span> name) {
        <span class="local-variable">this</span>.name = name;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getName() {
        <span class="keyword">return</span> name;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Java, all classes implicitly extend the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html"><code>Object</code></a> class.
In other words, even though <code>Dog</code> does not declare an inheritance relationship via <code>extends</code>, it still automatically <code>extends Object</code>.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Class <code>Object</code> is the root of the class hierarchy.
Every class has <code>Object</code> as a superclass.
All objects, including arrays, implement the methods of this class.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Java API documentation
</div>
</div>
<div class="paragraph">
<p>Thus, all of your classes automatically inherit 11 methods declared by the <code>Object</code> class.
Most of these methods are irrelevant in basic Java programs, but the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--"><code>toString()</code></a> method is important, so let&#8217;s look at it in further detail.</p>
</div>
<div class="paragraph">
<p>The <code>toString()</code> method returns a textual representation of an object.
You can call <code>toString()</code> like any other method, but most notably, it is automatically invoked whenever you pass an object to <code>System.out.println()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Dog dog = <span class="keyword">new</span> Dog(<span class="string"><span class="delimiter">&quot;</span><span class="content">Milo</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">System</span>.out.println(dog); <span class="comment">// prints 'ch.fhnw.ima.oop.Dog@511d50c0'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As illustrated in the above example, the base implementation returns weird looking gibberish (it is a mixture between the name of the class and its hash code, but that&#8217;s not important for the time being).
Since <code>toString()</code> is a normal method, you are free to override it and provide a better textual representation of your object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">Dog</span> {

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> name;

    <span class="directive">public</span> Dog(<span class="predefined-type">String</span> name) {
        <span class="local-variable">this</span>.name = name;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getName() {
        <span class="keyword">return</span> name;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> toString() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Dog (Name: </span><span class="delimiter">&quot;</span></span> + name + <span class="string"><span class="delimiter">&quot;</span><span class="content">)</span><span class="delimiter">&quot;</span></span>;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated output now looks much friendlier:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Dog dog = <span class="keyword">new</span> Dog(<span class="string"><span class="delimiter">&quot;</span><span class="content">Milo</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">System</span>.out.println(dog); <span class="comment">// prints 'Dog (Name: Milo)'</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enum_types">4.4. Enum Types</h3>
<div class="paragraph">
<p>Now that you know how to define your own classes via composition and/or inheritance, let&#8217;s have a look at a special kind of data modeling problem for which Java provides a simple solution.</p>
</div>
<div class="paragraph">
<p>Imagine a game like <a href="https://en.wikipedia.org/wiki/Pac-Man">Pac-Man</a>, where a character is moving either up, right, down, or left.
Somewhere in your game, you are tracking the character&#8217;s direction.
What class or data-type would you choose for that purpose?</p>
</div>
<div class="paragraph">
<p>You might be tempted to use an <code>int</code> type and declare 4 named constants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// BAD SOLUTION</span>

<span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> UP = <span class="integer">0</span>;
<span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> RIGHT = <span class="integer">1</span>;
<span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> DOWN = <span class="integer">2</span>;
<span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> LEFT = <span class="integer">3</span>;

<span class="directive">private</span> <span class="type">int</span> direction;

<span class="directive">public</span> <span class="type">void</span> setDirection(<span class="type">int</span> direction) {
    <span class="local-variable">this</span>.direction = direction;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is quite readable, but very error prone: The type system can&#8217;t prevent usage of a "wrong" value.
Consequently, a program that compiles just fine would break at runtime:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">setDirection(UP); <span class="comment">// ok</span>
setDirection(<span class="integer">42</span>); <span class="comment">// oops</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What we would need is a type that just allows the four values <code>UP</code>, <code>RIGHT</code>, <code>DOWN</code>, <code>LEFT</code> and nothing else.
Java provides a special-purpose type to represent such fixed enumerations, the <code>enum</code> type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// GOOD SOLUTION</span>

<span class="directive">public</span> <span class="type">enum</span> Direction { <i class="conum" data-value="1"></i><b>(1)</b>

    UP, RIGHT, DOWN, LEFT <i class="conum" data-value="2"></i><b>(2)</b>

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The enum keyword makes <code>Direction</code> extend the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html">Enum</a> base class</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>All values are constants and are thus, by convention, in uppercase letters</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Usage of an enum is straight-forward:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> Direction direction;

<span class="directive">public</span> <span class="type">void</span> setDirection(Direction direction) {
    <span class="local-variable">this</span>.direction = direction;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note how enums improve code readability: Just by looking at the type of the <code>direction</code> variable we already know something about its meaning (which was not the case with <code>int</code> constants).
Java is a typed language.
By using proper types to model our data we are taking advantage of the compiler.
Errors can be caught at compile time and don&#8217;t cause bugs at runtime.
By using the <code>Direction</code> enum, it is impossible to create a compiling program that contains a "wrong" direction value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">setDirection(Direction.UP);
setDirection(Direction.DOWN);
<span class="comment">// setDirection(42); IMPOSSIBLE (does not compile)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Each <code>enum</code> type automatically offers a variety of methods.
Most importantly, the <code>values()</code> method returns all possible constants, and the <code>name()</code> method returns a constant&#8217;s name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">for</span> (Direction direction : Direction.values()) {
    <span class="predefined-type">System</span>.out.println(direction.name());
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you&#8217;re getting bored or overwhelmed by all this reading, you might want to write some code for a change.
At this point you know just enough about object-oriented programming to get started with the first exercise.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_interfaces">4.5. Interfaces</h3>
<div class="paragraph">
<p>Suppose you were writing a fun little game in which unicorns played a major role.
You picked up the new concepts explained in the previous sections and came up with this nice and simple class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Unicorn</span> <span class="directive">extends</span> Horse {

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> name;

    <span class="directive">public</span> Unicorn(<span class="predefined-type">String</span> name) {
        <span class="local-variable">this</span>.name = name;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getName() {
        <span class="keyword">return</span> name;
    }

    <span class="directive">public</span> <span class="type">void</span> glowInRainbowColors() {
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Glitter</span><span class="delimiter">&quot;</span></span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, someone else already wrote a <code>Horse</code> class – you were able to inherit most of its functionality, keeping your new <code>Unicorn</code> class nice an simple.
Since you were done so quickly, you put all your energy and focus into listing your lovingly named unicorns in a fancy way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>~ •*¨*• ~ ~ •*¨*• ~
★★★ Mystery ★★★
★★★ Rainbow ★★★
★★★ Jessica ★★★
~ •*¨*• ~ ~ •*¨*• ~</pre>
</div>
</div>
<div class="paragraph">
<p>This is the code that you wrote to generate the output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="predefined-type">List</span>&lt;Unicorn&gt; unicorns = <span class="predefined-type">Arrays</span>.asList(
            <span class="keyword">new</span> Unicorn(<span class="string"><span class="delimiter">&quot;</span><span class="content">Mystery</span><span class="delimiter">&quot;</span></span>),
            <span class="keyword">new</span> Unicorn(<span class="string"><span class="delimiter">&quot;</span><span class="content">Rainbow</span><span class="delimiter">&quot;</span></span>),
            <span class="keyword">new</span> Unicorn(<span class="string"><span class="delimiter">&quot;</span><span class="content">Jessica</span><span class="delimiter">&quot;</span></span>));
    <span class="predefined-type">System</span>.out.println(fancyUnicornNames(unicorns));
}

<span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> fancyUnicornNames(<span class="predefined-type">List</span>&lt;Unicorn&gt; unicorns) {
    <span class="predefined-type">StringBuilder</span> fancyNames = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>();
    fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">~ •*¨*• ~ ~ •*¨*• ~</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
    <span class="keyword">for</span> (Unicorn unicorn : unicorns) {
        fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">★★★ </span><span class="delimiter">&quot;</span></span>).append(unicorn.getName()).append(<span class="string"><span class="delimiter">&quot;</span><span class="content"> ★★★</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
    }
    fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">~ •*¨*• ~ ~ •*¨*• ~</span><span class="delimiter">&quot;</span></span>);
    <span class="keyword">return</span> <span class="predefined-type">String</span>.valueOf(fancyNames);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unfortunately, life is not all rainbows and unicorns.
Soon you were forced to extend your game and introduce dragons.
Dragons are not related to horses nor unicorns, thus you couldn&#8217;t extend any existing class.
For a second you were tempted to introduce a common base-class (e.g. <code>LivingCreature</code>) in which you could nicely handle the <code>name</code> field and the <code>getName()</code> accessor in order not to duplicate this code.
However, <code>Unicorn</code> already extends <code>Horse</code>, and multiple inheritance is not supported in Java.
You decided to bite the bullet and write a <code>Dragon</code> class from scratch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Dragon</span> {

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> name;

    <span class="directive">public</span> Dragon(<span class="predefined-type">String</span> name) {
        <span class="local-variable">this</span>.name = name;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getName() {
        <span class="keyword">return</span> name;
    }

    <span class="directive">public</span> <span class="type">void</span> fly() {
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Flying higher and higher</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="directive">public</span> <span class="type">void</span> spitFire() {
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Sparks &amp; Flames!</span><span class="delimiter">&quot;</span></span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But wouldn&#8217;t it be nice if the list of dragon instances could be output in the same fancy style as the unicorns?
Some quick copy/pasting, a bit of renaming – tada!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="predefined-type">List</span>&lt;Dragon&gt; dragons = <span class="predefined-type">Arrays</span>.asList(
            <span class="keyword">new</span> Dragon(<span class="string"><span class="delimiter">&quot;</span><span class="content">Toothless</span><span class="delimiter">&quot;</span></span>),
            <span class="keyword">new</span> Dragon(<span class="string"><span class="delimiter">&quot;</span><span class="content">Stormfly</span><span class="delimiter">&quot;</span></span>),
            <span class="keyword">new</span> Dragon(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hookfang</span><span class="delimiter">&quot;</span></span>)
    );
    <span class="predefined-type">System</span>.out.println(fancyDragonNames(dragons));
}

<span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> fancyDragonNames(<span class="predefined-type">List</span>&lt;Dragon&gt; dragons) {
    <span class="predefined-type">StringBuilder</span> fancyNames = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>();
    fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">~ •*¨*• ~ ~ •*¨*• ~</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
    <span class="keyword">for</span> (Dragon dragon : dragons) {
        fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">★★★ </span><span class="delimiter">&quot;</span></span>).append(dragon.getName()).append(<span class="string"><span class="delimiter">&quot;</span><span class="content"> ★★★</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
    }
    fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">~ •*¨*• ~ ~ •*¨*• ~</span><span class="delimiter">&quot;</span></span>);
    <span class="keyword">return</span> <span class="predefined-type">String</span>.valueOf(fancyNames);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hopefully you noticed how <code>fancyUnicornNames</code> and <code>fancyDragonNames</code> are almost identical.
While copy/pasting might still work for two methods, it obviously doesn&#8217;t scale – soon enough you will end up with <code>fancyKnightNames</code>, <code>fancyFairyNames</code>, and <code>fancyMonsterNames</code>.
The tiniest bug requires the same fix in 10 different places.</p>
</div>
<div class="paragraph">
<p>Taking a step back, things are actually really simple: Inside the <code>fancyNames</code> rendering code, you don&#8217;t really care whether you output a unicorn&#8217;s name, a dragon&#8217;s name, or a monster&#8217;s name.
In other words, you don&#8217;t really care whether your <code>fancyNames</code> method gets a <code>List&lt;Unicorn&gt;</code>, a <code>List&lt;Dragon&gt;</code>, or even a <code>List&lt;Monster&gt;</code>.
All you care about, is that whatever is in the list has a <code>getName()</code> method.</p>
</div>
<div class="sect3">
<h4 id="_using_an_interface_to_create_reusable_code">4.5.1. Using an Interface to Create Reusable Code</h4>
<div class="paragraph">
<p>Interfaces solve exactly this problem: They let you express a contract in order to write reusable code relying on that contract.
In our case, the contract solely requires a <code>getName()</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">Named</span> { <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="predefined-type">String</span> getName(); <i class="conum" data-value="2"></i><b>(2)</b>

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>interface</code> keyword is used to define an interface</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A method signature (note the absence of a body, i.e. the method does not have a default implementation)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now that the <code>Named</code> interface exists, we change the <code>Unicorn</code> and <code>Dragon</code> classes to implement it.
Implementing an interface is like making an official promise to fulfill a contract.
The compiler makes sure that this promise is actually kept.
This is how the <code>Unicorn</code> class must be changed (same for <code>Dragon</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Unicorn</span> <span class="directive">extends</span> Horse <span class="directive">implements</span> Named { <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> name;

    <span class="directive">public</span> Unicorn(<span class="predefined-type">String</span> name) {
        <span class="local-variable">this</span>.name = name;
    }

    <span class="annotation">@Override</span>  <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="directive">public</span> <span class="predefined-type">String</span> getName() {
        <span class="keyword">return</span> name;
    }

    <span class="directive">public</span> <span class="type">void</span> glowInRainbowColors() {
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Glitter</span><span class="delimiter">&quot;</span></span>);
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
While extending multiple classes is not supported in Java, it would be perfectly legal to implement multiple interfaces.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now the <code>fancyNames</code> method can be rewritten based on the new <code>Named</code> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">FancyNames</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="predefined-type">List</span>&lt;Unicorn&gt; unicorns = <span class="predefined-type">Arrays</span>.asList(
                <span class="keyword">new</span> Unicorn(<span class="string"><span class="delimiter">&quot;</span><span class="content">Mystery</span><span class="delimiter">&quot;</span></span>),
                <span class="keyword">new</span> Unicorn(<span class="string"><span class="delimiter">&quot;</span><span class="content">Rainbow</span><span class="delimiter">&quot;</span></span>),
                <span class="keyword">new</span> Unicorn(<span class="string"><span class="delimiter">&quot;</span><span class="content">Jessica</span><span class="delimiter">&quot;</span></span>));

        <span class="predefined-type">System</span>.out.println(fancyNames(unicorns));

        <span class="predefined-type">List</span>&lt;Dragon&gt; dragons = <span class="predefined-type">Arrays</span>.asList(
                <span class="keyword">new</span> Dragon(<span class="string"><span class="delimiter">&quot;</span><span class="content">Toothless</span><span class="delimiter">&quot;</span></span>),
                <span class="keyword">new</span> Dragon(<span class="string"><span class="delimiter">&quot;</span><span class="content">Stormfly</span><span class="delimiter">&quot;</span></span>),
                <span class="keyword">new</span> Dragon(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hookfang</span><span class="delimiter">&quot;</span></span>)
        );

        <span class="predefined-type">System</span>.out.println(fancyNames(dragons));
    }

    <span class="directive">private</span> <span class="directive">static</span> &lt;T <span class="directive">extends</span> Named&gt; <span class="predefined-type">String</span> fancyNames(<span class="predefined-type">List</span>&lt;T&gt; namedItems) { <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="predefined-type">StringBuilder</span> fancyNames = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>();
        fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">~ •*¨*• ~ ~ •*¨*• ~</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">for</span> (Named named : namedItems) { <i class="conum" data-value="2"></i><b>(2)</b>
            fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">★★★ </span><span class="delimiter">&quot;</span></span>).append(named.getName()).append(<span class="string"><span class="delimiter">&quot;</span><span class="content"> ★★★</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="3"></i><b>(3)</b>
        }
        fancyNames.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">~ •*¨*• ~ ~ •*¨*• ~</span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">return</span> <span class="predefined-type">String</span>.valueOf(fancyNames);
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Accepts a list with items that implement the <code>Named</code> interface <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Iteration logic relies on the fact that all list items implement the <code>Named</code> interface</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Actual usage of <code>getName()</code>, as declared by the <code>Named</code> interface</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To summarize: Introducing the <code>Named</code> interface helped implementing the <code>fancyNames</code> method in a way that is reusable for unicorns, dragons and all future implementations of the <code>Named</code> interface.</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_an_interface_to_achieve_encapsulation">4.5.2. Using an Interface to Achieve Encapsulation</h4>
<div class="paragraph">
<p>Remember the <code>List</code>, <code>Set</code>, and <code>Map</code> interfaces from the introductory section on <a href="#data-structures">Data Structures</a>?
All of them are perfect illustrations of another important aspect of interfaces: Interfaces allow to hide implementation details.
In simple words, they separate <strong>what</strong> can be done (e.g. the <code>List</code> interface) from <strong>how</strong> it is done (e.g. the <code>ArrayList</code> implementation).
This separation makes programs easier to understand and maintain.
The complexity of the <strong>how</strong> is hidden behind the interface, making it e.g. possible to program against the <code>List</code> interface without ever having to deal with the array-related complexity encapsulated in the <code>ArrayList</code> class.
In the <a href="#data-structures">Data Structures</a> section you were encouraged to always code to the <code>List</code> interface rather than the <code>ArrayList</code> implementation.
By now it should be clear that this has at least two benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Oracle is completely free to re-implement, optimize, or otherwise change the <code>ArrayList</code> class – as long as it still properly implements the <code>List</code> interface, no changes will be required in your code.</p>
</li>
<li>
<p>On the other hand, <strong>you</strong> are also completely free to switch to another <code>List</code> implementation – if you want to use a <code>LinkedList</code> rather than an <code>ArrayList</code>, you only need to swap out the implementation in one spot.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_working_with_interfaces_in_java_8">4.5.3. Working with Interfaces in Java 8</h4>
<div class="paragraph">
<p>Everything you learned about interfaces so far is deeply baked into the Java language and works with versions as old as Java 5.
With the latest version, Java 8, some very attractive language changes were made.
At least two of them make working with interfaces even more pleasurable:</p>
</div>
<div class="sect4">
<h5 id="_default_methods">Default Methods</h5>
<div class="paragraph">
<p>Traditionally, interfaces do not contain method bodies, but only declare method signatures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">Named</span> { <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="predefined-type">String</span> getName(); <i class="conum" data-value="2"></i><b>(2)</b>

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>interface</code> definition</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A method signature without body</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With Java 8 it is possible to provide default implementations for interface methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">Named</span> {

    <span class="keyword">default</span> <span class="predefined-type">String</span> getName() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Unknown</span><span class="delimiter">&quot;</span></span>;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A class implementing this interface then becomes very minimal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Creature</span> <span class="directive">implements</span> Named {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It fulfills the interface contract because it automatically inherits the default implementation, i.e. it is possible to call <code>getName</code> on a <code>Creature</code> instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Creature creature = <span class="keyword">new</span> Creature();
<span class="predefined-type">System</span>.out.println(creature.getName()); <span class="comment">//  prints &quot;Unknown&quot;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Of course <code>Creature</code> could still override <code>getName</code> as if no default implementation existed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_lambda_expressions">Lambda Expressions</h5>
<div class="paragraph">
<p>Let&#8217;s revisit the <code>Named</code> interface without the default method implementation again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">Named</span> { <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="predefined-type">String</span> getName(); <i class="conum" data-value="2"></i><b>(2)</b>

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>interface</code> definition</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A method signature without body</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Methods without a body are called <strong>abstract</strong> methods, and interfaces with a single abstract method are called <strong>SAM types</strong> (Single Abstract Method types).</p>
</div>
<div class="paragraph">
<p><strong>Lambda expressions</strong>, a new feature in Java 8, represent a convenience construct to make working with SAM types simpler:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Named myNamed = () -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Lara Croft</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>Named myNamed</code> part is a standard variable type/name declaration, only the part to the right of the <code>=</code> sign is the lambda expression.
Let&#8217;s look at another example to get a better feel for SAM types and lambdas:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">Calculation</span> {

    <span class="type">double</span> calc(<span class="type">double</span> a, <span class="type">double</span> b);

}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Calculation</code> again has a single, abstract method.
Consequently, a lambda expression can be used to provide an implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Calculation addition = (a, b) -&gt; a + b;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A lambda expression has everything that a method has: an argument list, which is the <code>(a, b)</code> part, and a body, which is the <code>a + b</code> part after the arrow symbol.
Just like methods, lambda expressions allow to encapsulate not just simple one-liners, but also more complex constructs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Calculation fancy = (x, y) -&gt; {
    <span class="type">double</span> fx = <span class="predefined-type">Math</span>.sin(x);
    <span class="type">double</span> fy = <span class="predefined-type">Math</span>.cos(y);
    <span class="keyword">return</span> fx + fy;
};</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Curly braces and a <code>return</code> statement are needed for lambda expressions that encompass more than one statement.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Up to now we have only looked at how lambda expressions can be defined.
We will now look at how they are used.</p>
</div>
<div class="paragraph">
<p>Actually, you have already met lambda expressions in an earlier section, namely when working with the <a href="#section-stream-api">The Java 8 Stream API</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Stream&lt;<span class="predefined-type">String</span>&gt; words = Stream.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">new</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">of</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">streams</span><span class="delimiter">&quot;</span></span>);
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; lengths = words.map(word -&gt; word.length()).collect(Collectors.toList());
<span class="predefined-type">System</span>.out.println(lengths); <span class="comment">// prints [5, 3, 5, 2, 7]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>map</code> method takes the <code>java.util.function.Function</code> SAM type as its argument, for which we provide an ad-hoc implementation in the form of the <code>word &#8594; word.length()</code> lambda expression.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Lambda expressions allow to pass code fragments around like data, typically as arguments to other methods.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resources_4">4.6. Resources</h3>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Java4Kids: Chapter 3
</td>
<td class="hdlist2">
<p><a href="https://yfain.github.io/Java4Kids/#_meet_classes_the_main_language_constructs" class="bare">https://yfain.github.io/Java4Kids/#_meet_classes_the_main_language_constructs</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Java4Kids: Chapter 5
</td>
<td class="hdlist2">
<p><a href="https://yfain.github.io/Java4Kids/#_interfaces_lambdas_abstract_and_anonymous_classes" class="bare">https://yfain.github.io/Java4Kids/#_interfaces_lambdas_abstract_and_anonymous_classes</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Angelika Langer: Lambda Tutorial
</td>
<td class="hdlist2">
<p><a href="http://www.angelikalanger.com/Lambdas/Lambdas.pdf" class="bare">http://www.angelikalanger.com/Lambdas/Lambdas.pdf</a></p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fp">5. Functional Programming</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For most humans, new concepts are easier to understand if they can be related to things they already know.
One of the appeals of object-oriented programming (OOP) is that objects have obvious analogies in real life.
Persons, dogs, and cities are very familiar concepts, and it&#8217;s easy to grasp how a <code>Person</code> class models certain aspects of a real-life person.</p>
</div>
<div class="paragraph">
<p>Unfortunately, concepts like assignments or method calls often have no analogy in real life.
Functional programming (FP) is a programming style that addresses this problem:
Just like OOP focuses on the concept of objects, functional programming (FP) focuses on the concept of mathematical functions to describe computer programs.
Because most of us know math better than we know programming, FP concepts are often easy to understand because they are so similar to math.</p>
</div>
<div class="paragraph">
<p>Note that OOP and FP are not exclusive: Certain aspects of a program are best expressed with objects, while others are easier to program using functions.
Java 8 is a perfect language to combine the best of two worlds!
Let&#8217;s see what FP brings to the table&#8230;&#8203;</p>
</div>
<div class="sect2">
<h3 id="_mathematical_functions">5.1. Mathematical Functions</h3>
<div class="paragraph">
<p>If you look at this simple Java assignment through the eyes of a mathematician, it is utter nonsense:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">x = x + <span class="integer">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, the following Java method doesn&#8217;t have anything to do with math:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> add(<span class="type">int</span> a) {
  <span class="type">int</span> c = a + <span class="local-variable">this</span>.b;
  <span class="local-variable">this</span>.b = c;
  <span class="keyword">return</span> c;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To put them in contrast, let&#8217;s look at two typical math functions and explore their common characteristics:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>f(x) = sin(x)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>f(a,b) = a + b</pre>
</div>
</div>
<div class="paragraph">
<p>These functions</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>have a set of input (<code>x</code>, <code>a</code> and <code>b</code>)</p>
</li>
<li>
<p>each have one output</p>
</li>
<li>
<p>given the same input, always produce the same output</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>All three points sound really obvious in the context of mathematical functions.
Yet, our Java methods often diverge from these rules in many ways.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s look at our initial example again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> add(<span class="type">int</span> a) {
  <span class="type">int</span> c = a + <span class="local-variable">this</span>.b;
  <span class="local-variable">this</span>.b = c;
  <span class="keyword">return</span> c;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ideally, a Java method declares its input and output as part of its signature.
Looking at</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> add(<span class="type">int</span> a)</code></pre>
</div>
</div>
<div class="paragraph">
<p>could give the impression that our example method has one input <code>a</code> and one output (the return value).
But this is not the case!
In fact, this method</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>pretends to have one input (<code>a</code>) but actually has two (<code>a</code> and <code>this.b</code>)</p>
</li>
<li>
<p>pretends to have one output (the return value) but actually has two (assigning <code>this.b = c</code>)</p>
</li>
<li>
<p>given the same input <code>a</code>, may produce a different result (depending on the value of <code>this.b</code>)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Obviously, it is not similar to a math function at all, which makes it really hard to understand.</p>
</div>
<div class="paragraph">
<p>The method has <strong>side effects</strong>: It reads values which are not declared as input parameters and writes values in addition to returning a result.
Its these side effects that make the method hard to understand and cause it to deviate from the math function characteristics.</p>
</div>
<div class="paragraph">
<p>The following <code>add</code> method is much easier to read because it has no side effects and is thus similar to a math function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">static</span> <span class="type">int</span> add(<span class="type">int</span> a, <span class="type">int</span> b) {
  <span class="keyword">return</span> a + b;
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>static</code> keyword makes it explicit that the function does not read nor write any fields
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To summarize: In functional programming, methods explicitly declare their input parameters, return one result, and do not rely on side effects.</p>
</div>
</div>
<div class="sect2">
<h3 id="_programs_as_data_pipelines">5.2. Programs as Data Pipelines</h3>
<div class="paragraph">
<p>Let&#8217;s look at another example method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">int</span> countFourLetterWords(<span class="predefined-type">File</span> file) {
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; words = readWordsFromFile(file);
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; fourLetterWords = filterByLength(words, <span class="integer">4</span>);
    <span class="type">int</span> count = count(fourLetterWords);
    <span class="keyword">return</span> count;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You probably have a pretty good understanding of what&#8217;s going on here, right?
Even though the methods <code>readWordsFromFile</code>, <code>filterByLength</code>, and <code>count</code> are not shown in detail, it is still quite obvious what they are doing.
This is due to the fact that all of them have good names, very explicit input parameters, return one result, and don&#8217;t rely on side effects.</p>
</div>
<div class="paragraph">
<p>Functional programming uses functions as the fundamental building blocks of a program.
Just like in mathematics, where simple functions can be combined to express more complex calculations, Java methods can be combined to form a pipeline.
Data flows through the method calls until the final result is returned.</p>
</div>
<div class="paragraph">
<p>Functional programming obviously makes code very readable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_preventing_programming_errors">5.3. Preventing Programming Errors</h3>
<div class="paragraph">
<p>Let&#8217;s go back to our initial <code>add</code> example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> add(<span class="type">int</span> a) {
  <span class="type">int</span> c = a + <span class="local-variable">this</span>.b;
  <span class="local-variable">this</span>.b = c;
  <span class="keyword">return</span> c;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example may seem a little far fetched and contrived – seriously, who writes cryptic code like this?!</p>
</div>
<div class="paragraph">
<p>Actually, side effects occur very often in object-oriented programming!
Accessor and mutator methods like <code>getName()</code> and <code>setName(String name)</code> <strong>only</strong> work because of side effects.
Fortunately, setters and getters are so easy to implement that there&#8217;s no need to get rid of their side effects completely (though some FP purists disagree on this).</p>
</div>
<div class="paragraph">
<p>In general, side effects in non-trivial methods make implementations hard to read but also hard to write correctly.
The following example will illustrate how removing side effects can prevent programming errors.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s dive in with a <code>Container</code> class, which models a vessel with contents and a maximal capacity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Container</span> {

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> CAPACITY = <span class="integer">100</span>;

    <span class="directive">private</span> <span class="type">int</span> contents;

    <span class="directive">public</span> <span class="predefined-type">Container</span>(<span class="type">int</span> contents) {
        <span class="local-variable">this</span>.contents = contents;
    }

    <span class="directive">public</span> <span class="type">int</span> getContents() {
        <span class="keyword">return</span> contents;
    }

    <span class="directive">public</span> <span class="type">void</span> add(<span class="type">int</span> amount) {
        <span class="keyword">if</span> (contents + amount &gt; CAPACITY) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Exceeding capacity</span><span class="delimiter">&quot;</span></span>);
        }
        contents += amount;
    }

    <span class="directive">public</span> <span class="type">void</span> remove(<span class="type">int</span> amount) {
        <span class="keyword">if</span> (contents &lt; amount) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Insufficient contents</span><span class="delimiter">&quot;</span></span>);
        }
        contents -= amount;
    }

    <span class="directive">public</span> <span class="type">void</span> transferTo(<span class="type">int</span> amount, <span class="predefined-type">Container</span> toContainer) {
        remove(amount);
        toContainer.add(amount);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note how <code>add</code> and <code>remove</code> both alter the container&#8217;s contents as a side effect.
Moreover, both may throw an exception, another form of side effect.
Specifically, <code>add</code> checks that the container cannot exceed its capacity, while <code>remove</code> assures that the requested amount is limited by the current contents.</p>
</div>
<div class="paragraph">
<p>The method <code>transferTo</code> uses <code>add</code> and <code>remove</code> to transfer a specific <code>amount</code> from this container to another container.</p>
</div>
<div class="paragraph">
<p>This is how the <code>Container</code> class can be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Container</span> a = <span class="keyword">new</span> <span class="predefined-type">Container</span>(<span class="integer">80</span>);
<span class="predefined-type">Container</span> b = <span class="keyword">new</span> <span class="predefined-type">Container</span>(<span class="integer">80</span>);
<span class="comment">// transfer 20 from container a to container b</span>
a.transferTo(<span class="integer">20</span>, b);
<span class="predefined-type">System</span>.out.println(a.getContents());    <span class="comment">// prints 60</span>
<span class="predefined-type">System</span>.out.println(b.getContents());    <span class="comment">// prints 100</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Interesting things happen when an impossible transfer is requested:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Container</span> c = <span class="keyword">new</span> <span class="predefined-type">Container</span>(<span class="integer">80</span>);
<span class="predefined-type">Container</span> d = <span class="keyword">new</span> <span class="predefined-type">Container</span>(<span class="integer">80</span>);
<span class="keyword">try</span> {
    <span class="comment">// the following call will fail</span>
    c.transferTo(<span class="integer">70</span>, d); <i class="conum" data-value="1"></i><b>(1)</b>
} <span class="keyword">catch</span> (<span class="exception">IllegalArgumentException</span> e) {
    <span class="predefined-type">System</span>.out.println(e.getMessage()); <span class="comment">// prints &quot;Exceeding capacity&quot; </span><i class="conum" data-value="2"></i><b>(2)</b>
}
<span class="predefined-type">System</span>.out.println(c.getContents());    <span class="comment">// prints 10 </span><i class="conum" data-value="3"></i><b>(3)</b>
<span class="predefined-type">System</span>.out.println(d.getContents());    <span class="comment">// prints 80</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An impossible transfer which exceeds capacity of target container <code>d</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>As expected, an exception is thrown by the nested call to <code>add</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><strong>Programming Error</strong>: Even though the transfer failed, the amount is still deduced from container <code>c</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Of course we could invest time in fixing the <code>transferTo</code> implementation and making sure not to alter container states in case of errors.
But it is a matter of fact that the various side effects make this implementation non-trivial.
Instead of wasting time and energy, let&#8217;s instead look at how the same problem could be solved in a much more robust way – functional programming to the rescue!</p>
</div>
<div class="paragraph">
<p>For starters, we will change the <code>add</code> and <code>remove</code> methods to no longer alter the contents by side effect, but instead return a new <code>Container</code> instance with the changed contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Container</span> {

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> CAPACITY = <span class="integer">100</span>;

    <span class="directive">private</span> <span class="directive">final</span> <span class="type">int</span> contents;

    <span class="directive">public</span> <span class="predefined-type">Container</span>(<span class="type">int</span> contents) {
        <span class="local-variable">this</span>.contents = contents;
    }

    <span class="directive">public</span> <span class="type">int</span> getContents() {
        <span class="keyword">return</span> contents;
    }

    <span class="directive">public</span> <span class="predefined-type">Container</span> add(<span class="type">int</span> amount) {
        <span class="keyword">if</span> (contents + amount &gt; CAPACITY) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Exceeding capacity</span><span class="delimiter">&quot;</span></span>);
        }
        <span class="keyword">return</span> <span class="keyword">new</span> <span class="predefined-type">Container</span>(contents + amount);
    }

    <span class="directive">public</span> <span class="predefined-type">Container</span> remove(<span class="type">int</span> amount) {
        <span class="keyword">if</span> (contents &lt; amount) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Insufficient contents</span><span class="delimiter">&quot;</span></span>);
        }
        <span class="keyword">return</span> <span class="keyword">new</span> <span class="predefined-type">Container</span>(contents - amount);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As a next step, we want to improve the transfer scenario.
Specifically, we want to make its input and output much more explicit:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A transfer needs two containers, a <strong>from</strong> container and a <strong>to</strong> container</p>
</li>
<li>
<p>A successful transfer also returns two containers, the <strong>from</strong> container now has less contents, while the <strong>to</strong> container now has more contents</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In other words, we need a pair of containers as input, and also return a pair of containers.
Let&#8217;s introduce a <code>Transfer</code> class which models a pair of containers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Transfer</span> {

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">Container</span> from;
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">Container</span> to;

    <span class="directive">public</span> Transfer(<span class="predefined-type">Container</span> from, <span class="predefined-type">Container</span> to) {
        <span class="local-variable">this</span>.from = from;
        <span class="local-variable">this</span>.to = to;
    }

    <span class="directive">public</span> <span class="predefined-type">Container</span> getFrom() {
        <span class="keyword">return</span> from;
    }

    <span class="directive">public</span> <span class="predefined-type">Container</span> getTo() {
        <span class="keyword">return</span> to;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The new <code>transfer</code> method now looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Transfer transfer(<span class="type">int</span> amount, Transfer transfer) {
    <span class="predefined-type">Container</span> updatedFrom = transfer.getFrom().remove(amount);
    <span class="predefined-type">Container</span> updatedTo = transfer.getTo().add(amount);
    <span class="keyword">return</span> <span class="keyword">new</span> Transfer(updatedFrom, updatedTo);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that it only reads state from its input parameter.
Consequently, it is decoupled from the <code>Container</code> object, which we can make explicit by moving it to its own class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ContainerService</span> {

    <span class="directive">public</span> <span class="directive">static</span> Transfer transfer(<span class="type">int</span> amount, Transfer transfer) {
        <span class="predefined-type">Container</span> updatedFrom = transfer.getFrom().remove(amount);
        <span class="predefined-type">Container</span> updatedTo = transfer.getTo().add(amount);
        <span class="keyword">return</span> <span class="keyword">new</span> Transfer(updatedFrom, updatedTo);
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Again, using the <code>static</code> modifier makes it explicit that no instance state is read nor written.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is how transfers can be made with our new design:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Container</span> a = <span class="keyword">new</span> <span class="predefined-type">Container</span>(<span class="integer">80</span>);
<span class="predefined-type">Container</span> b = <span class="keyword">new</span> <span class="predefined-type">Container</span>(<span class="integer">80</span>);
Transfer input = <span class="keyword">new</span> Transfer(a, b);
Transfer result = ContainerService.transfer(<span class="integer">20</span>, input);
<span class="predefined-type">System</span>.out.println(result.getFrom().getContents()); <span class="comment">// prints 60</span>
<span class="predefined-type">System</span>.out.println(result.getTo().getContents());   <span class="comment">// prints 100</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>How will it behave if an invalid transfer is requested?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Container</span> c = <span class="keyword">new</span> <span class="predefined-type">Container</span>(<span class="integer">80</span>);
<span class="predefined-type">Container</span> d = <span class="keyword">new</span> <span class="predefined-type">Container</span>(<span class="integer">80</span>);
<span class="keyword">try</span> {
    Transfer input = <span class="keyword">new</span> Transfer(c, d);
    <span class="comment">// the following call will fail</span>
    Transfer result = ContainerService.transfer(<span class="integer">70</span>, input); <i class="conum" data-value="1"></i><b>(1)</b>
} <span class="keyword">catch</span> (<span class="exception">IllegalArgumentException</span> e) {
    <span class="predefined-type">System</span>.out.println(e.getMessage()); <span class="comment">// prints &quot;Exceeding capacity&quot; </span><i class="conum" data-value="2"></i><b>(2)</b>
}
<span class="predefined-type">System</span>.out.println(c.getContents());    <span class="comment">// prints 80 </span><i class="conum" data-value="3"></i><b>(3)</b>
<span class="predefined-type">System</span>.out.println(d.getContents());    <span class="comment">// prints 80</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An impossible transfer which exceeds capacity of target container <code>d</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Code flows to the <code>catch</code> clause, <code>result</code> will thus not be available (which makes sense).</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><strong>Fixed</strong>: If the transfer fails, the amount is <strong>no longer</strong> deduced from container <code>c</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Phew, this was hard – but the code now works as expected!
The functional programming principles of explicitly declaring input parameters and preventing side effects made the code more robust.</p>
</div>
</div>
<div class="sect2">
<h3 id="_map_filter_reduce">5.4. Map / Filter / Reduce</h3>
<div class="paragraph">
<p>Often, functional programming is associated with the map/filter/reduce design pattern.
We have met this pattern in <a href="#section-stream-api">The Java 8 Stream API</a>, here it is again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Stream&lt;<span class="predefined-type">String</span>&gt; words = Stream.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">java</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">is</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">cool</span><span class="delimiter">&quot;</span></span>);
<span class="type">long</span> numberOfFourLetterWords = words.
        map(word -&gt; word.length()).          <span class="comment">// map</span>
        filter(length -&gt; length == <span class="integer">4</span>).       <span class="comment">// filter</span>
        count();                             <span class="comment">// reduce to single result</span>
<span class="predefined-type">System</span>.out.println(numberOfFourLetterWords); <span class="comment">// prints 2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>But what is so "functional" about streams?
In fact, the same problem could also be solved without using streams:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; words = <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">java</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">is</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">cool</span><span class="delimiter">&quot;</span></span>);
<span class="type">long</span> numberOfFourLetterWords = <span class="integer">0</span>;
<span class="keyword">for</span> (<span class="predefined-type">String</span> word : words) {
    <span class="keyword">if</span> (word.length() == <span class="integer">4</span>) {
        numberOfFourLetterWords++;
    }
}
<span class="predefined-type">System</span>.out.println(numberOfFourLetterWords); <span class="comment">// prints 2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This second style is known as imperative programming: Control structures like <code>for</code> and <code>if</code> determine how a sequence of statements is executed.
In contrast, streams allow to express the same intentions <strong>without</strong> using control structures, solely by using functions.
Extracting the lambda expressions to local variables makes this more visible:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Stream&lt;<span class="predefined-type">String</span>&gt; words = Stream.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">world</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">java</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">is</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">cool</span><span class="delimiter">&quot;</span></span>);

<span class="comment">// A function from String -&gt; Integer</span>
Function&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; mapFunction = word -&gt; word.length();
<span class="comment">// A function from Integer -&gt; Boolean</span>
<span class="predefined-type">Predicate</span>&lt;<span class="predefined-type">Integer</span>&gt; filterFunction = length -&gt; length == <span class="integer">4</span>;

<span class="type">long</span> numberOfFourLetterWords = words.
        map(mapFunction).
        filter(filterFunction).
        count();
<span class="predefined-type">System</span>.out.println(numberOfFourLetterWords);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In summary, using the functional approach of map/filter/reduce allows programmers to focus on the heart of the computation rather than on the details of loops, branches, and control flow.</p>
</div>
<div class="paragraph">
<p>Because the details of loops, branches, and control flow are no longer controlled by the programmer, code written in a functional style is very suitable for parallel execution, e.g. on a distributed cluster (Google&#8217;s <a href="https://en.wikipedia.org/wiki/MapReduce">MapReduce</a> technology is the most prominent example).</p>
</div>
</div>
<div class="sect2">
<h3 id="_summary">5.5. Summary</h3>
<div class="paragraph">
<p>Functional programming uses functions as the fundamental building blocks of a program.
In Java, such functions are built by writing methods or lambda expressions which explicitly declare their input parameters and avoid any side effects.
Functional programming makes programs easier to read and prevents certain types of errors.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resources_5">5.6. Resources</h3>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Kris Jenkins: What Is Functional Programming?
</td>
<td class="hdlist2">
<p><a href="http://blog.jenkster.com/2015/12/what-is-functional-programming.html" class="bare">http://blog.jenkster.com/2015/12/what-is-functional-programming.html</a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Google MapReduce
</td>
<td class="hdlist2">
<p><a href="https://en.wikipedia.org/wiki/MapReduce" class="bare">https://en.wikipedia.org/wiki/MapReduce</a></p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Note that simply accepting a <code>List&lt;Named&gt;</code> would not work. We are getting into complicated type parameterization territory here, but the quick explanation goes like this: The <code>Named</code> interface creates a relationship between the <code>Unicorn</code> and the <code>Dragon</code> class. It would seem natural that this also implies a relationship between a <code>List&lt;Unicorn&gt;</code> and a <code>List&lt;Dragon&gt;</code>. Unfortunately, these two types are not related from the Java compiler&#8217;s point of view. Therefore, the item type <code>T</code> must explicitly be declared as <code>T extends Named</code>. Alternatively, an upper bounded wildcard could be used (<code>List&lt;? extends Named&gt;</code>). Further details are e.g. explained in the official <a href="https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html">Wildcards and Subtyping</a> tutorial.
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.5.1<br>
Last updated 2016-03-23 12:16:23 +01:00
</div>
</div>
</body>
</html>